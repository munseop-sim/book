# chapter03. 역할(role),책임(responsibility),협력(collaboration)

- 객체 지향의 본질 : 객체들의 공동체를 창조
- 역할, 책임, 협력이 제자리를 찾지 못한다면 높은 응집도와 낮은 결합도로 클래스와 상속계층을 구현한다고 하더라도 애플리케이션 개발은 산으로 간다.
- 객체를 자율적으로 만드는 가장 기본적인 방법은 **캡슐화** → 객체의 자율성을 보장 :: 정보와 정보에 기반한 행동을 같은 객체에 모아놓아야 함. (객체 = 상태와 행동을 함께 캡슐화하는 실행단위)
- 적절한 협력이 적절한 책임을 제공하고, 적절한 책임을 적절한 객체에게 할당해야만 단순하고 유연한 설계를 창조할 수 있다.
- 프로그래밍에서 코드 중복은 모든 문제의 근원
- 협력이라는 문맥안에서 역할은 특정한 협력에 참여해서 책임을 수행하는 객체의 일부
1. **협력(collaboration) → sender ??** 
    1. 정의 
        1. 객체들이 Application의 기능을 구현하기 위해 수행하는 상호작용
        2. 어떤 객체가 다른 객체에게 무엇인가를 요청하는 것
    2. 메시지 전송은 객체사이의 협력을 위해 사용할 수 있는 유일한 커뮤니케이션 수단
    3. 협력은 객체를 설계하는데 필요한 일정의 문맥(context)를 제공
2. **책임(responsibility) → receiver ??== 메소드??**
    1. 정의 
        1. 객체가 협력에 참여하기 위해 수행하는 로직(행동)
        2. 객체에 의해 정의되는 응집도 있는 행위의 집합
        3. 객체의 책임 = 하는 것 (doing) + 아는 것(knowing)
    2. 객체에게 얼마나 적절한 책임을 할당하느냐가 설계의 전체적인 품질을 결정한다.
    3. INFORMATION EXPERT 패턴
        1. 책임을 수행할 수 있는 데이터를 가지고 있는 객체에 책임을 부여하는 것
        2. 객체는 데이터와 처리로직이 함께 묶여 있는 것
        3. 정보은닉을 통해 자신의 데이터를 감추고 오직 메소드로만 데이터를 처리하고, 외부에는 그 기능(책임)만을 제공
        4. cf) GRASP 패턴 - General Responsibitily Assignment Software Patterns
    4. 책임주도 설계 (RDD, Responsibility-Driven Design) - 책임을 찾고 책임을 수행할 적절한 객체를 찾아 책임을 할당하는 방식으로 협력을 설계하는 방법
    5. 데이터주도 설계(DDD, Data-Driven Design)
    6. **객체의 상태가 아니라 행동이 중요**하다.
3. 역할(role)
    1. 정의 
        1. 객체들이 수행하는 책임들의 집합
        2. 역할은 다른것으로 교체할 수 있는 책임의 집합
        3. 역할은 객체가 참여할 수 있는 일종의 슬롯
        4. 프레임워크나 디자인패턴과 같이 재사용 가능한 코드나 설계 아이디어를 구성하는 핵심적인 요소
    2. 역할이 중요한 이유는 역할을 통해 유연하고 재사용 가능한 협력을 얻을수 있어서 동일한 협력을 수행하는 객체들을 추상화 할 수 있기 때문
    3. 역할을 구현하는 가장 일반적인 방법은 추상클래스와 인터페이스를 사용하는 것 → 이러한 기술적 메커니즘들이 모여 유연하고 재사용 가능한 협력을 만들수 있는 기반을 제공
    4. 동일한 역할을 수행하는 하나 이상의 객체들이 존재 할 수 있다. 또한 객체는 여러 협력에 참여하면서 다양한 역할을 수행할 수 있다.
    5. 추상화의 장점
        1. 세부사항에 억눌리지 않고도 상위 수준의 정책을 쉽고 간단하게 표현 가능 → 핵심적인 개념 강조 가능
        2. 설계를 유연하게 만들 수 있다.